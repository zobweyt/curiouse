{% extends 'feed/base.html' %}
{% load static %}

{% block body %}
<header class="sticky-top bg-light border-bottom py-2">
    <div class="container-xxl">
        <div class="d-flex flex-wrap align-items-center justify-content-center">
            <a href="{% url 'home' %}" class="d-flex align-items-center">
                <img src="{% static 'feed/dist/images/logo.png' %}" alt="Logo" width="32" height="32">
            </a>
            <div class="ms-auto me-3">
                <form class="d-none d-sm-inline-block" role="search" action="{% url 'search' %}" method="GET">
                    <div class="input-group input-group-sm">
                        <input type="search" class="form-control" placeholder="Search" aria-label="Search" name="{{ form.query.name }}" value="{{ request.GET.query }}">
                        <button type="submit" class="btn btn-secondary">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                <circle cx="10" cy="10" r="7"></circle>
                                <line x1="21" y1="21" x2="15" y2="15"></line>
                            </svg>
                        </button>
                    </div>
                </form>
                <a href="{% url 'search' %}" class="d-inline-block d-sm-none">
                    <svg xmlns="http://www.w3.org/2000/svg" class="text-dark" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                        <circle cx="10" cy="10" r="7"></circle>
                        <line x1="21" y1="21" x2="15" y2="15"></line>
                    </svg>
                </a>
            </div>
            {% if user.is_authenticated %}
            <div class="dropdown text-end">
                <a href="#" type="button" class="d-block rounded p-1 dropdown-toggle user-menu-dropdown-toggle" data-bs-toggle="dropdown" data-bs-auto-close="outside" aria-expanded="false">
                    <img src="{% if user.photo %}{{ user.photo.url }}{% else %}{% static 'feed/dist/images/user.png' %}{% endif %}" alt="Profile photo" width="32" height="32" class="rounded-circle">
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon text-dark dropdown-chevron" width="16" height="16" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                        <polyline points="6 9 12 15 18 9"></polyline>
                    </svg>
                </a>
                <ul class="dropdown-menu dropdown-menu-end shadow-sm">
                    <li class="p-2">
                        <a class="dropdown-item bg-light py-2 pe-1 rounded" href="{% url 'profile' %}">
                            <div class="d-flex align-items-center fs-sm">
                                <img src="{% if user.photo %}{{ user.photo.url }}{% else %}{% static 'feed/dist/images/user.png' %}{% endif %}" alt="Profile photo" width="32" height="32" class="rounded-circle">
                                <div class="ms-2">
                                    <p class="mb-0 lh-sm fw-medium">{{ user.get_full_name }}</p>
                                    <p class="mb-0 lh-sm text-info">Customize profile</p>
                                </div>
                                <svg xmlns="http://www.w3.org/2000/svg" class="icon ms-2 align-self-center text-muted" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                   <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                   <polyline points="9 6 15 12 9 18"></polyline>
                                </svg>
                            </div>
                        </a>
                    </li>
                    <li>
                    <hr class="dropdown-divider"></li>
                    <li>
                        <a class="dropdown-item" href="{% url 'add_post' %}">
                            <div class="d-flex align-items-center gap-2">
                                <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                   <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                   <path d="M19 10h-14"></path>
                                   <path d="M5 6h14"></path>
                                   <path d="M14 14h-9"></path>
                                   <path d="M5 18h6"></path>
                                   <path d="M18 15v6"></path>
                                   <path d="M15 18h6"></path>
                                </svg>
                                Create a post
                            </div> 
                        </a>
                    </li>
                    <li>
                        <a class="dropdown-item" href="#">
                            <div class="d-flex align-items-center gap-2">
                                <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                    <circle cx="12" cy="12" r="9"></circle>
                                    <line x1="12" y1="17" x2="12" y2="17.01"></line>
                                    <path d="M12 13.5a1.5 1.5 0 0 1 1 -1.5a2.6 2.6 0 1 0 -3 -4"></path>
                                 </svg>
                                Writing guide
                            </div> 
                        </a>
                    </li>
                    {% if user.is_staff %}
                    <li>
                        <a class="dropdown-item" href="{% url 'admin:index' %}">
                            <div class="d-flex align-items-center gap-2">
                                <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                    <path d="M4 4h6v8h-6z"></path>
                                    <path d="M4 16h6v4h-6z"></path>
                                    <path d="M14 12h6v8h-6z"></path>
                                    <path d="M14 4h6v4h-6z"></path>
                                </svg>
                                Admin Panel
                            </div> 
                        </a>
                    </li>
                    {% endif %}
                    <li>
                    <hr class="dropdown-divider"></li>
                    <li>
                        <a class="dropdown-item" href="{% url 'logout' %}">
                            <div class="d-flex align-items-center gap-2">
                                <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                                    <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                                    <path d="M14 8v-2a2 2 0 0 0 -2 -2h-7a2 2 0 0 0 -2 2v12a2 2 0 0 0 2 2h7a2 2 0 0 0 2 -2v-2"></path>
                                    <path d="M7 12h14l-3 -3m0 6l3 -3"></path>
                                 </svg>
                                 <p class="m-0">Sign out</p>
                            </div> 
                        </a>
                    </li>
                </ul>
            </div>
            {% else %}
            <div class="text-end">
                <a href="{% url 'login' %}" type="button" class="btn btn-sm btn-outline-primary me-2">Login</a>
                <a href="{% url 'register' %}" type="button" class="btn btn-sm btn-primary">Sign up</a>
            </div>
            {% endif %}
        </div>
    </div>
</header>
<main class="container-xxl flex-fill d-flex flex-column my-md-4 my-2">
    {% block content %}
    {% endblock content %}
    <button id="scroll-to-top" class="position-fixed rounded-circle shadow p-2" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
            <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
            <polyline points="6 15 12 9 18 15"></polyline>
         </svg>
    </button>
</main>
<footer class="py-3 border-top">
    <div class="container-xxl d-flex justify-content-between ">
        <a href="{% url 'home' %}" class="m-0 p-0 d-block"><img src="{% static 'feed/dist/images/logo.png' %}" alt="masonex" height="30"></a>
        <ul class="list-unstyled d-flex gap-3 m-0">
            <li>
                <a class="nav-link d-block" href="#">
                    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                        <path d="M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z"></path>
                    </svg>
                </a>
            </li>
            <li>
                <a class="nav-link d-block" href="#">
                    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                        <rect x="4" y="4" width="16" height="16" rx="4"></rect>
                        <circle cx="12" cy="12" r="3"></circle>
                        <line x1="16.5" y1="7.5" x2="16.5" y2="7.501"></line>
                    </svg>
                </a>
            </li>
            <li>
                <a class="nav-link d-block" href="#">
                    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
                        <path d="M7 10v4h3v7h4v-7h3l1 -4h-4v-2a1 1 0 0 1 1 -1h3v-4h-3a5 5 0 0 0 -5 5v2h-3"></path>
                    </svg>
                </a>
            </li>
        </ul>
    </div>
</footer>
{% endblock body %}
