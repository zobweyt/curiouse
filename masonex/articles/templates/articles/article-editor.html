{% extends 'base.html' %}
{% load static %}

{% block content %}
<form method="post" enctype="multipart/form-data" class="needs-validation" novalidate>
  {% csrf_token %}
  <div class="row">
    <div class="col-lg-4 col-12 mb-lg-0 mb-3">
      <aside class="aside-col pe-lg-1">
        {% include "components/notifications.html" %}
        <div class="card">
          <div class="card-header bg-transparent">
            <h5 class="mb-0">Cover</h5>
          </div>
          <div class="card-body">
            <label for="{{ form.thumbnail.id_for_label }}" class="mb-2">
              <div id="thumbnail" class="image-upload cursor-pointer">
                {% if article %}
                <img src="{{ article.thumbnail.url }}" class="rounded" loading="lazy">
                {% else %}
                <div class="border-dashed d-flex flex-column justify-content-center align-items-center h-100">
                  <i class="ti ti-sunset-2 text-body fs-3"></i>
                  <p class="mb-0 mt-2 fw-medium">Upload thumbnail</p>
                </div>
                {% endif %}
              </div>
              {% include 'components/input.html' with field=form.thumbnail %}
            </label>
            {{ form.category }}
            {{ form.title }}
            {% include 'components/input.html' with field=form.description wrapper_class='mt-2' %}
          </div>
          <div class="card-footer bg-transparent">
            <button type="submit" class="btn btn-dark" disabled on-validation-text="Processing...">Submit</button>
            {% if article %}
            <a href="{{ article.get_absolute_url }}" class="btn btn-muted">Cancel</a>
            {% endif %}
          </div>
        </div>
      </aside>
    </div>
    <section class="col-lg-8 col-12">
      {{ form.body }}
    </section>
  </div>
</form>
{% endblock content %}

{% block extrascript %}
{{ form.media }}
{% endblock extrascript %}
